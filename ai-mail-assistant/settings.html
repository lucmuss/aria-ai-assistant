<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title data-i18n="settingsTitle">Einstellungen â€“ AI Mail Assistant</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1><img src="icons/ai-icon.png" alt="ARIA Icon" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 8px;"><span data-i18n="settingsTitle">AI Mail Assistant Einstellungen</span></h1>

  <table>
    <tr>
      <td><b data-i18n="languageLabel">OberflÃ¤chensprache:</b></td>
      <td>
        <select id="uiLanguage">
          <option value="en">English (English)</option>
          <option value="zh">ä¸­æ–‡ (Chinese)</option>
          <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€ (Hindi)</option>
          <option value="es">EspaÃ±ol (Spanish)</option>
          <option value="fr">FranÃ§ais (French)</option>
          <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</option>
          <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)</option>
          <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹ (Russian)</option>
          <option value="pt">PortuguÃªs (Portuguese)</option>
          <option value="ur">Ø§Ø±Ø¯Ùˆ (Urdu)</option>
          <option value="id">Bahasa Indonesia (Indonesian)</option>
          <option value="de">Deutsch (German)</option>
          <option value="ja">æ—¥æœ¬èª (Japanese)</option>
          <option value="pl">Polski (Polish)</option>
        </select>
      </td>
      <td data-i18n="languageDesc">WÃ¤hle die Sprache der BenutzeroberflÃ¤che</td>
    </tr>
  </table>

  <button id="saveBtn" data-i18n="saveBtn">ğŸ’¾ Einstellungen speichern</button>

  <div class="button-row">
    <button id="testApiBtn" data-i18n="testApiBtn">ğŸ§ª API testen</button>
    <button id="testSttBtn" data-i18n="testSttBtn">ğŸ§ª STT API testen</button>
  </div>

  <div class="button-row">
    <button id="exportBtn" data-i18n="exportBtn">ğŸ“¤ Einstellungen exportieren</button>
    <button id="importBtn" data-i18n="importBtn">ğŸ“¥ Einstellungen importieren</button>
  </div>

  <input type="file" id="importFile" accept=".json" style="display: none;">
  <p id="status" class="status-box"></p>

  <form id="settingsForm">
    <table>
      <tr><th colspan="3" data-i18n="chatSettings">Chat API Einstellungen</th></tr>
      <tr>
        <td><b data-i18n="apiUrlLabel">API URL:</b></td>
        <td><input type="text" id="chatApiUrl" data-i18n-placeholder="apiUrlPlaceholder" placeholder="https://api.openai.com/v1/chat/completions"></td>
        <td data-i18n="apiUrlDesc">Endpoint fÃ¼r dein Modell (z. B. OpenAI oder lokaler ULAMA-Server)</td>
      </tr>
      <tr>
        <td><b data-i18n="apiKeyLabel">API Key:</b></td>
        <td><input type="password" id="chatApiKey" data-i18n-placeholder="apiKeyPlaceholder" placeholder="sk-xxxxxxxxxxxx"></td>
        <td data-i18n="apiKeyDesc">Dein API-SchlÃ¼ssel vom Anbieter (z. B. OpenAI, Ollama etc.)</td>
      </tr>
      <tr>
        <td><b data-i18n="modelLabel">Modell:</b></td>
        <td><input type="text" id="chatModel" value="gpt-4o-mini"></td>
        <td data-i18n="modelDesc">Modellname (z. B. <code>gpt-4o</code>, <code>llama3</code>, <code>mistral</code>)</td>
      </tr>
      <tr>
        <td><b data-i18n="temperatureLabel">Temperatur:</b></td>
        <td><input type="number" step="0.1" min="0" max="2" id="chatTemperature" value="1.0"></td>
        <td data-i18n="temperatureDesc">Steuert KreativitÃ¤t (0 = sachlich, 1 = kreativ)</td>
      </tr>
      <tr>
        <td><b data-i18n="maxTokensLabel">Max Tokens:</b></td>
        <td><input type="number" id="chatMaxTokens" value="2000"></td>
        <td data-i18n="maxTokensDesc">Maximale TextlÃ¤nge der Antwort</td>
      </tr>
      <tr>
        <td><b data-i18n="systemPromptLabel">System Prompt:</b></td>
        <td><textarea id="chatSystemPrompt" rows="3" data-i18n-placeholder="systemPromptPlaceholder" placeholder="Du bist ein hÃ¶flicher E-Mail-Assistent."></textarea></td>
        <td data-i18n="systemPromptDesc">Vorgabetext fÃ¼r den Assistenten (z. B. Tonfall oder Stil)</td>
      </tr>
      </table>
    </form>

    <form id="extensionForm">
      <table>
        <tr><th colspan="3" data-i18n="extensionSettings">Extension Settings</th></tr>
        <tr>
          <td><b data-i18n="contextSizeLabel">KontextgrÃ¶ÃŸe:</b></td>
          <td><input type="number" id="extensionContextSize" value="5"></td>
          <td data-i18n="contextSizeDesc">Anzahl der vorherigen Nachrichten, die als Kontext gesendet werden</td>
        </tr>
        <tr>
          <td><b data-i18n="includeSenderLabel">Absender einbeziehen:</b></td>
          <td><input type="checkbox" id="extensionIncludeSender"></td>
          <td data-i18n="includeSenderDesc">FÃ¼gt die Absenderadresse in den Prompt-Kontext ein</td>
        </tr>
        <tr>
          <td><b data-i18n="clearEmailLabel">E-Mail-Inhalt nach Submit lÃ¶schen:</b></td>
          <td><input type="checkbox" id="clearEmailAfterSubmit"></td>
          <td data-i18n="clearEmailDesc">LÃ¶scht den E-Mail-Inhalt vor dem EinfÃ¼gen der KI-Antwort</td>
        </tr>
      </table>
    </form>

    <form id="sttForm">
      <table>
        <tr><th colspan="3" data-i18n="sttSettings">Speech-to-Text Einstellungen</th></tr>
      <tr>
        <td><b data-i18n="sttApiUrlLabel">STT API URL:</b></td>
        <td><input type="text" id="sttApiUrl" data-i18n-placeholder="sttApiUrlPlaceholder" placeholder="https://api.openai.com/v1/audio/transcriptions"></td>
        <td data-i18n="sttApiUrlDesc">URL fÃ¼r Sprachtranskription (z. B. Whisper)</td>
      </tr>
      <tr>
        <td><b data-i18n="sttApiKeyLabel">STT API Key:</b></td>
        <td><input type="password" id="sttApiKey" data-i18n-placeholder="sttApiKeyPlaceholder" placeholder="sk-xxxxxxxxxxxx"></td>
        <td data-i18n="sttApiKeyDesc">API-Key fÃ¼r den STT-Anbieter</td>
      </tr>
      <tr>
        <td><b data-i18n="sttModelLabel">Modell:</b></td>
        <td><input type="text" id="sttModel" value="whisper-1"></td>
        <td data-i18n="sttModelDesc">Sprachmodell (z. B. <code>whisper-1</code> oder lokal <code>tiny</code>)</td>
      </tr>
      <tr>
        <td><b data-i18n="sttLanguageLabel">Sprache:</b></td>
        <td>
          <select id="sttLanguage">
            <option value="">Auto</option>
            <option value="en">English (en)</option>
            <option value="zh">ä¸­æ–‡ (zh)</option>
            <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€ (hi)</option>
            <option value="es">EspaÃ±ol (es)</option>
            <option value="fr">FranÃ§ais (fr)</option>
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (ar)</option>
            <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾ (bn)</option>
            <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹ (ru)</option>
            <option value="pt">PortuguÃªs (pt)</option>
            <option value="ur">Ø§Ø±Ø¯Ùˆ (ur)</option>
            <option value="id">Bahasa Indonesia (id)</option>
            <option value="de">Deutsch (de)</option>
            <option value="ja">æ—¥æœ¬èª (ja)</option>
            <option value="pl">Polski (pl)</option>
          </select>
        </td>
        <td data-i18n="sttLanguageDesc">Sprache der Erkennung (leer = automatisch)</td>
      </tr>
    </table>
  </form>

  <script src="settings.js"></script>
</body>
</html>
